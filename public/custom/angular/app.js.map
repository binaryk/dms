{"version":3,"sources":["_config.js","controllers.js","MainCtrl.js","FileStructureCtrl.js","services.js","FileStructureService.js","directives.js","bn-input.js"],"names":[],"mappings":";;;;;;;AACA;;;;AACA;;;;AACA;;;;;;AAHA,QAAA,GAAA,CAAA,QAAA;;;AAKA,IAAA,MAAA,kBAAA,MAAA,CAAA,KAAA,EAAA,CAAA,iBAAA,EAAA,gBAAA,EAAA,cAAA,EAAA,0BAAA,EAAA,cAAA,CAAA,EACA,MADA,CACA,UAAA,oBAAA,EAAA;AACA,yBAAA,WAAA,CAAA,IAAA,EADA;AAEA,yBAAA,SAAA,CAAA,IAAA,EAFA;CAAA,CADA,CAKA,GALA,CAKA,UAAA,UAAA,EAAA;AACA,eAAA,MAAA,GAAA,OAAA,CADA;CAAA,CALA;ACLA;AACA,QAAA,GAAA,CAAA,aAAA;;AAEA,IAAA,oCAAA,kBAAA,MAAA,CAAA,iBAAA,EAAA,EAAA,CAAA;ACHA;AACA,QAAA,GAAA,CAAA,UAAA;;AAEA,SAAA,QAAA,CAAA,MAAA,EAAA;AACA,YAAA,GAAA,CAAA,iBAAA,EADA;CAAA;;AAIA,SAAA,OAAA,GAAA,CAAA,QAAA,CAAA;AACA,YAAA,UAAA,CAAA,UAAA,EAAA,QAAA;ACRA;AACA,QAAA,GAAA,CAAA,UAAA;;AAEA,IAAA,oBAAA,SAAA,iBAAA,CAAA,MAAA,EAAA,oBAAA,EAAA,SAAA,EAAA;AACA,QAAA,OAAA,IAAA,CADA;AAEA,SAAA,YAAA,GAAA,YAAA;AACA,aAAA,MAAA,GAAA,CAAA,KAAA,MAAA,CADA;KAAA,CAFA;;AAMA,SAAA,GAAA,GAAA,YAAA;AACA,6BAAA,GAAA,GAAA,IAAA,CAAA,gBAAA;AAAA,iBAAA,KAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,IAAA,EAAA;SAAA,CAAA,CADA;KAAA,CANA;;AAWA,SAAA,IAAA,GAAA,UAAA,YAAA,EAAA;AACA,YAAA,gBAAA,UAAA,IAAA,CAAA;AACA,uBAAA,KAAA,iBAAA;AACA,yBAAA,kBAAA;AACA,wBAAA,mBAAA;AACA,qBAAA;AACA,qBAAA;2BAAA;iBAAA;AACA,6BAAA;2BAAA;iBAAA;aAFA;SAJA,CAAA,CADA;AAUA,sBAAA,MAAA,CAAA,IAAA,CAAA,UAAA,OAAA,EAAA;AACA,iBAAA,mBAAA,CAAA,YAAA,EAAA,OAAA,EADA;SAAA,EAEA,YAAA;AACA,oBAAA,GAAA,CAAA,UAAA,EADA;SAAA,CAFA,CAVA;KAAA,CAXA;;AA4BA,SAAA,cAAA,GAAA,YAAA;AACA,aAAA,IAAA,CAAA,IAAA,GAAA,UAAA,CADA;AAEA,6BAAA,KAAA,CAAA,KAAA,IAAA,CAAA,CACA,IADA,CACA,gBAAA;AACA,gBAAA,KAAA,IAAA,KAAA,GAAA,EAAA;AACA,wBAAA,GAAA,CAAA,IAAA,EADA;AAEA,qBAAA,MAAA,GAAA,KAAA,CAFA;AAGA,qBAAA,KAAA,CAAA,KAAA,QAAA,CAAA,EAAA,CAAA,GAAA,KAAA,QAAA,CAHA;AAIA,wBAAA,GAAA,CAAA,KAAA,KAAA,CAAA,CAJA;aAAA,MAKA;AACA,sBAAA,OAAA,EADA;aALA;SADA,CADA,CAFA;KAAA,CA5BA;;AA2CA,SAAA,mBAAA,GAAA,UAAA,MAAA,EAAA,OAAA,EAAA;AACA,YAAA,OAAA;AACA,oBAAA,MAAA;AACA,qBAAA;AACA,sBAAA,OAAA;AACA,sBAAA,UAAA;aAFA;SAFA,CADA;;AASA,6BAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA,gBAAA;AACA,gBAAA,KAAA,IAAA,KAAA,GAAA,EAAA;AACA,wBAAA,GAAA,CAAA,KAAA,QAAA,CAAA,CADA;aAAA,MAEA;AACA,sBAAA,OAAA,EADA;aAFA;SADA,CAAA,CATA;KAAA,CA3CA;;AA6DA,SAAA,IAAA,GAAA,YAAA,EAAA,CA7DA;;AAiEA,SAAA,IAAA,GAAA,YAAA;AACA,aAAA,IAAA,GAAA,EAAA,CADA;AAEA,aAAA,MAAA,GAAA,KAAA,CAFA;AAGA,aAAA,KAAA,GAAA,EAAA,CAHA;AAIA,aAAA,iBAAA,GAAA,IAAA,CAJA;AAKA,aAAA,WAAA,GAAA,CACA,CAAA,qBAAA,EAAA,UAAA,UAAA,EAAA;AACA,iBAAA,IAAA,CAAA,WAAA,IAAA,CAAA,CADA;SAAA,CADA,EAIA,IAJA,EAKA,CAAA,gBAAA,EAAA,sBAAA;AACA,mBAAA,KAAA,CAAA,MAAA,CAAA,WAAA,MAAA,EAAA,CAAA,EADA;SAAA,CALA,EAQA,IARA,EASA,CAAA,QAAA,EAAA,sBAAA;AACA,oBAAA,GAAA,CAAA,UAAA,EADA;AAEA,oBAAA,GAAA,CAAA,WAAA,OAAA,CAAA,MAAA,MAAA,SAAA,CAAA,CAFA;AAGA,gBAAA,WAAA,OAAA,CAAA,MAAA,MAAA,SAAA,EAAA;AACA,uBAAA,KAAA,KAAA,CAAA,WAAA,IAAA,CAAA,EAAA,CAAA,CADA;aAAA,MAEA;AACA,oBAAA,kBAAA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA,CADA;AAEA,oBAAA,QAAA,gBAAA,OAAA,CAAA,WAAA,IAAA,CAAA,CAFA;AAGA,gCAAA,MAAA,CAAA,KAAA,EAAA,CAAA,EAHA;AAIA,wBAAA,GAAA,CAAA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA,CAAA,OAAA,CAAA,WAAA,IAAA,CAAA,EAJA;aAFA;SAHA,CATA,CAAA,CALA;KAAA,CAjEA;;AA+FA,SAAA,IAAA,GA/FA;AAgGA,SAAA,GAAA,GAhGA;AAiGA,SAAA,IAAA,GAjGA;CAAA;;AAoGA,kBAAA,OAAA,GAAA,CAAA,QAAA,EAAA,sBAAA,EAAA,WAAA,CAAA;AACA,YAAA,UAAA,CAAA,mBAAA,EAAA,iBAAA;;AAEA,YAAA,UAAA,CAAA,mBAAA,EAAA,UAAA,MAAA,EAAA,iBAAA,EAAA,GAAA,EAAA,WAAA,EAAA;AACA,WAAA,IAAA,GAAA,EAAA,CADA;AAEA,WAAA,KAAA,GAAA,YAAA;AACA,0BAAA,KAAA,CAAA,OAAA,IAAA,CAAA,CADA;KAAA,CAFA;;AAMA,WAAA,MAAA,GAAA,YAAA;AACA,gBAAA,GAAA,CAAA,QAAA,EADA;AAEA,0BAAA,KAAA,CAAA,IAAA,EAFA;KAAA,CANA;CAAA,CAAA;;AAYA,YAAA,SAAA,CAAA,YAAA,EAAA,CAAA,UAAA,EAAA,UAAA,QAAA,EAAA;AACA,WAAA;AACA,kBAAA,GAAA;AACA,cAAA,cAAA,KAAA,EAAA,OAAA,EAAA;AACA,gBAAA,MAAA,IAAA,CAAA,QAAA,EAAA;AACA,oBAAA,OAAA,SAAA,6GAAA,EAAA,KAAA,CAAA,CADA;AAEA,wBAAA,MAAA,CAAA,IAAA,EAFA;aAAA;SADA;KAFA,CADA;CAAA,CAAA;;ACtHA;;AAEA,IAAA,WAAA,kBAAA,MAAA,CAAA,cAAA,EAAA,EAAA,CAAA;ACFA;AACA,SAAA,OAAA,CAAA,sBAAA,EAAA,CAAA,YAAA,EAAA,OAAA,EAAA,UAAA,UAAA,EAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CADA;;AAGA,UAAA,KAAA,GAAA,UAAA,IAAA,EAAA;AACA,YAAA,OAAA,EAAA,CADA;AAEA,YAAA,UAAA,MAAA,IAAA,CAAA,WAAA,MAAA,CAAA,oBAAA,EAAA,EAAA,MAAA,IAAA,EAAA,EAAA,IAAA,CAAA;mBAAA,SAAA,IAAA;SAAA,CAAA,CAFA;AAGA,eAAA,OAAA,CAHA;KAAA,CAHA;;AASA,UAAA,GAAA,GAAA,YAAA;AACA,YAAA,UAAA,MAAA,GAAA,CAAA,WAAA,MAAA,CAAA,kBAAA,CAAA,CAAA,IAAA,CAAA;mBAAA,SAAA,IAAA;SAAA,CAAA,CADA;AAEA,eAAA,OAAA,CAFA;KAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AATA,WA4DA,KAAA,CA5DA;CAAA,CAAA;ACDA;;AAEA,IAAA,kCAAA,kBAAA,MAAA,CAAA,gBAAA,EAAA,EAAA,CAAA;;ACFA;AACA,QAAA,GAAA,CAAA,WAAA;;AAEA,WAAA,SAAA,CAAA,SAAA,EAAA,YAAA;AACA,WAAA;AACA,kBAAA,IAAA;AACA,qBAAA,2DAAA;AACA,eAAA,IAAA;AACA,oBAAA,oBAAA,MAAA,EAAA;AACA,oBAAA,GAAA,CAAA,2BAAA,EADA;AAEA,oBAAA,GAAA,CAAA,OAAA,EAAA,MAAA,EAFA;SAAA;KAJA,CADA;CAAA,CAAA","file":"app.js","sourcesContent":["console.log('config');\r\nimport angular from \"angular\";\r\nimport contextMenu from \"angular-bootstrap-contextmenu\";\r\nimport ui_bootstrap from \"angular-ui-bootstrap\";\r\n\r\nvar dms = angular.module('dms', ['dms.controllers','dms.directives','dms.services', 'ui.bootstrap.contextMenu','ui.bootstrap'])\r\n    .config(function($interpolateProvider) {\r\n        $interpolateProvider.startSymbol('[[');\r\n        $interpolateProvider.endSymbol(']]');\r\n    })\r\n    .run(function($rootScope){\r\n        $rootScope.config = _config;\r\n    })","'use strict'\r\nconsole.log('controllers');\r\n\r\nexport const controllers = angular.module('dms.controllers',[]);","'use strict'\r\nconsole.log('MainCtrl');\r\n\r\nfunction MainCtrl($scope){\r\n    console.log('MainCtrl inside');\r\n}\r\n\r\nMainCtrl.$inject = ['$scope'];\r\ncontrollers.controller('MainCtrl', MainCtrl);","'use strict'\r\nconsole.log('File str');\r\n\r\nvar FileStructureCtrl = function($scope, FileStructureService,$uibModal){\r\n    const that = this;\r\n    that.addDirectory = () =>{\r\n        that.addDir = ! that.addDir;\r\n    }\r\n\r\n    that.get = () => {\r\n        FileStructureService.get().then(data => { that.files = data.files; console.log(data); } );\r\n\r\n    }\r\n\r\n    that.open = function (current_dir) {\r\n        var modalInstance = $uibModal.open({\r\n            animation: that.animationsEnabled,\r\n            templateUrl: 'addDirector.html',\r\n            controller: 'ModalDirectorCtrl',\r\n            resolve: {\r\n                fss: () =>  FileStructureService,\r\n                current_dir: () => current_dir\r\n            }\r\n        });\r\n        modalInstance.result.then(function (dirName) {\r\n            that.storeChildDirectory(current_dir, dirName);\r\n        }, function () {\r\n            console.log('MoDADSAD');\r\n        });\r\n    };\r\n\r\n    that.storeDirectory = () => {\r\n    that.form.type = 'director';\r\n    FileStructureService.store(that.form)\r\n        .then(data => {\r\n            if(data.code === 200){\r\n                console.log(data);\r\n                that.addDir = false;\r\n                that.files[data.inserted.id] = data.inserted;\r\n                console.log(that.files);\r\n            }else{\r\n                alert('Erorr');\r\n            }\r\n        });\r\n    }\r\n\r\n    that.storeChildDirectory = (parent, dirName) => {\r\n        const form = {\r\n            parent: parent,\r\n            current: {\r\n                name: dirName,\r\n                type: 'director'\r\n            }\r\n        };\r\n\r\n        FileStructureService.store(form).then(data => {\r\n            if(data.code === 200){\r\n                console.log(data.inserted);\r\n            }else{\r\n                alert('Erorr');\r\n            }\r\n        });\r\n    }\r\n\r\n    that.draw = () => {\r\n\r\n    }\r\n\r\n    that.init = () => {\r\n        that.form = {};\r\n        that.addDir = false;\r\n        that.files = [];\r\n        that.animationsEnabled = true;\r\n        that.menuOptions = [\r\n            ['Creeaza subdirector', ($itemScope) => {\r\n                that.open($itemScope.file)\r\n            }],\r\n            null,\r\n            ['Adauga fisiere', $itemScope => {\r\n                $scope.items.splice($itemScope.$index, 1);\r\n            }],\r\n            null,\r\n            ['Sterge', $itemScope => {\r\n                console.log($itemScope);\r\n                console.log($itemScope.$parent['file'] === undefined);\r\n                if($itemScope.$parent['file'] === undefined){\r\n                    delete that.files[$itemScope.file.id];\r\n                }else{\r\n                    const parentChildrens = $itemScope.$parent.file.children;\r\n                     const index  = parentChildrens.indexOf($itemScope.file);\r\n                     parentChildrens.splice(index, 1);\r\n                     console.log($itemScope.$parent.file.children.indexOf($itemScope.file));\r\n                }\r\n\r\n            }]\r\n        ];\r\n    }\r\n\r\n    this.init();\r\n    this.get();\r\n    this.draw();\r\n}\r\n\r\nFileStructureCtrl.$inject = ['$scope','FileStructureService','$uibModal'];\r\ncontrollers.controller('FileStructureCtrl', FileStructureCtrl);\r\n\r\ncontrollers.controller('ModalDirectorCtrl', function ($scope, $uibModalInstance, fss, current_dir) {\r\n    $scope.name = '';\r\n    $scope.store = () => {\r\n        $uibModalInstance.close($scope.name);\r\n    }\r\n    \r\n    $scope.cancel = () => {\r\n        console.log('cancel');\r\n        $uibModalInstance.close(null);\r\n    }\r\n});\r\n\r\ncontrollers.directive('nestedItem', ['$compile', function($compile){\r\n    return {\r\n        restrict: 'A',\r\n        link: function(scope, element){\r\n            if (scope.file.children){\r\n                var html = $compile('<ul><li nested-item ng-repeat=\"file in file.children\" context-menu=\"fs.menuOptions\">[[file.name]]</li></ul>')(scope);\r\n                element.append(html);\r\n            }\r\n        }\r\n    };\r\n}]);\r\n","'use strict'\r\n\r\nconst services = angular.module('dms.services',[]);","'use strict'\r\nservices.factory('FileStructureService', ['$rootScope','$http', function($rootScope, $http){\r\n    var mixin = {};\r\n\r\n    mixin.store = function(data){\r\n        var rest = {};\r\n        var promise = $http.post($rootScope.config.file_structure_store, {data: data}).then( response => response.data  );\r\n        return promise;\r\n    }\r\n\r\n    mixin.get = function(){\r\n        const promise = $http.get($rootScope.config.file_structure_get).then( response => response.data );\r\n        return promise;\r\n    }\r\n   /* mixin.find = function(id){\r\n        var todo = {};\r\n        $.post($rootScope.config.todo_find,{todo_id: id}, function(data){\r\n            todo = data;\r\n        });\r\n        return todo;\r\n    }\r\n\r\n\r\n    mixin.put = function(id, data){\r\n        var todo = {};\r\n        console.log($rootScope.config.todo_put);\r\n        $.post($rootScope.config.todo_put,{id: id, data: data}, function(data){\r\n            todo = data;\r\n        });\r\n        return todo;\r\n    }\r\n\r\n\r\n\r\n    mixin.delete_ = function(id){\r\n        $.post($rootScope.config.todo_delete,{id: id}, function(data){\r\n            // todo = data;\r\n        });\r\n    }\r\n\r\n    mixin.start = function(id){\r\n        $.post($rootScope.config.todo_start,{id: id}, function(data){\r\n            // todo = data;\r\n        });\r\n    }\r\n\r\n    mixin.stop = function(id){\r\n        $.post($rootScope.config.todo_stop,{id: id}, function(data){\r\n            // todo = data;\r\n        });\r\n    }\r\n\r\n\r\n    mixin.all = function(){\r\n        var todos = [];\r\n        $.get($rootScope.config.todo_get, function(data){\r\n            todos = data;\r\n        });\r\n        return todos;\r\n    }*/\r\n\r\n    return mixin;\r\n\r\n}])","'use strict'\r\n\r\nexport const directives = angular.module('dms.directives',[]);\r\n","'use strict'\r\nconsole.log('directive');\r\n\r\ndirectives.directive('bnInput', function(){\r\n    return {\r\n        restrict: 'EA',\r\n        templateUrl: 'resources/assets/js/angular/directives/bnInput/input.html',\r\n        scope: true,\r\n        controller: function($scope){\r\n            console.log('inside directive bn-input');\r\n            console.log('scope',$scope);\r\n        }\r\n    }\r\n});\r\n"],"sourceRoot":"/source/"}